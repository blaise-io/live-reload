<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Loading…</title>
    <link rel="stylesheet" href="chrome://browser/content/extension.css">
    <link rel="stylesheet" href="chrome://browser/content/extension-mac.css">
    <link rel="stylesheet" href="/form/form.css">
</head>
<body>
    <form>
        <h2 class="form-row update">Loading…</h2>
        <h2 class="form-row create hidden">Create a new reload rule</h2>
        <input type="hidden" name="id">
        <input type="hidden" name="created">
        <input type="hidden" name="modified">
        <div class="form-row browser-style">
            <label for="title">Title</label>
            <input autofocus
                   name="title"
                   id="title"
                   required
                   type="text"
                   maxlength="64"
                   placeholder="This title will be visible in the overview">
        </div>
        <div class="form-row help">
            When a tab URL matches the pattern entered in the <strong>Host match pattern</strong> field,
            this addon will start monitoring all script and style includes on that page.
            <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Match_patterns" target="_blank">
                <strong>How do I write a match pattern?</strong>
            </a>
        </div>
        <div class="form-row browser-style">
            <label for="host">Host match pattern</label>
            <input required
                   name="host"
                   id="host"
                   class="code browser-style"
                   type="text"
                   placeholder="https://example.org/*">
        </div>
        <div class="form-row browser-style">
            <label for="interval">Monitoring interval</label>
            <input required
                   name="interval"
                   id="interval"
                   type="number"
                   min="0.5"
                   step="0.5"
                   value="2"> seconds
        </div>
        <div class="form-row help">
            Filter which source files on the host page are monitored using the <strong>Source file match patterns</strong> field below.
            Include a host in the match pattern. Separate match patterns with one or more line breaks.
        </div>
        <div class="form-row browser-style">
            <label for="sources">Source file match patterns</label>
            <textarea required
                      name="sources"
                      id="sources"
                      placeholder="https://example.org/src/*.js"
                      class="code browser-style"></textarea>
        </div>
        <div class="form-row browser-style">
            <label>
                <input type="checkbox" name="inlinecss" value="true">
                Reload CSS inline without reloading the page
            </label>
        </div>
        <div class="form-row form-submit browser-style">
            <button type="submit" class="browser-style create">Create reload rule</button>
            <button type="submit" class="browser-style update hidden">Save reload rule</button>
        </div>
    </form>
    <script src="/shared/match-pattern.js"></script>
    <script src="/shared/rules.js"></script>
    <script src="/form/form.js"></script>
</body>
</html>
